<html>
    <body>
        <form onsubmit="saveToLocalStorage(event)">
            <label> Name </label>
            <input type="text" name="username"required/>
            <label> EmailID </label>
            <input type="email" name="emailId"required/>
            <label> Phone Number </label>
            <input type="tel" name="phonenumber"required/>
            <button> Submit </button>

        </form>
        <script>
            function saveToLocalStorage(event){
                event.preventDefault();
                const name=event.target.username.value;
                const email=event.target.emailId.value;
                const phonenumber=event.target.phonenumber.value;
                //localStorage.setItem('name',name);
                //localStorage.setItem('email',email);
                //localStorage.setItem('phonenumber',phonenumber);
                }
                const obj = {
                    name,
                    email,
                    phonenumber
                }
                localStorage.setItem('userdetails',JSON.stringify(obj));
                showUserOnScreen(obj)
            function showUserOnScreen(obj){
                const parentElem=document.getElementById('listOfitems')
                const childelem=document.createElement('li')
                childElem.textContent=obj.name + '-' + obj.email + '-' + obj.phonenumber
                const editButton=document.createElement('input');
                editButton.type="button";
                editButton.value='Edit';
                editButton.onclick=()=>{
                    const userDetails = JSON.parse(localStorage.getItem('userdetails'));
                    document.querySelector('input[name="username"]').value = userDetails.name;
                    document.querySelector('input[name="emailId"]').value = userDetails.email;
                    document.querySelector('input[name="phonenumber"]').value = userDetails.phonenumber;
                    document.querySelector('button[type="submit"]').textContent = 'Update';
                
            };
                const deleteButton=document.createElement('input')
                deleteButton.type="button"
                deleteButton.value='Delete'
                deleteButton.onclick=()=>{
                    localStorage.removeItem(obj.email)
                    parentElem.removeChild(childElem)
                }
                childElem.appendChild(deleteButton)
                parentElem.appendChild(childElem)
                }
            
        </script>
    </body>
</html>"
                deleteButton.value='Delete'
                deleteButton.onclick=()=>{
                    localStorage.removeItem(obj.email)
                    parentElem.removeChild(childElem)
                }
                childElem.appendChild(deleteButton)
                parentElem.appendChild(childElem)
                }
            
        </script>
    </body>
</html>
